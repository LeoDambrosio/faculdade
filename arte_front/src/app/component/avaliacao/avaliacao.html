<form [formGroup]="formAvaliacao" (ngSubmit)="enviarAvaliacao()">
    
    <!-- Campo da NOTA -->
    <div class="mb-3">
        <label for="nota" class="form-label fw-bold">Nota (1 a 10)</label>
        <input 
            type="number" 
            id="nota" 
            class="form-control" 
            formControlName="nota" 
            min="1" 
            max="10" 
            placeholder="Ex: 9"
            required>
        <div *ngIf="formAvaliacao.controls.nota.invalid && formAvaliacao.controls.nota.touched" class="text-danger small mt-1">
            <i class="bi bi-exclamation-triangle-fill"></i> A nota é obrigatória e deve ser entre 1 e 10.
        </div>
    </div>
    
    <!-- Campo do COMENTÁRIO -->
    <div class="mb-3">
        <label for="comentario" class="form-label fw-bold">Comentário</label>
        <textarea 
            id="comentario" 
            class="form-control" 
            formControlName="comentario" 
            rows="3" 
            placeholder="O que você achou desta obra?"
            required></textarea>
        <div *ngIf="formAvaliacao.controls.comentario.invalid && formAvaliacao.controls.comentario.touched" class="text-danger small mt-1">
            <i class="bi bi-exclamation-triangle-fill"></i> O comentário é obrigatório e deve ter no mínimo 5 caracteres.
        </div>
    </div>
    
    <!-- Mensagem de Status (Feedback) -->
    <div *ngIf="mensagem" [ngClass]="{'alert-success': sucesso, 'alert-danger': !sucesso}" class="alert mt-3">
        {{ mensagem }}
    </div>

    <!-- Botão de Envio (desabilitado se o formulário for inválido) -->
    <button type="submit" class="btn btn-warning fw-bold" [disabled]="formAvaliacao.invalid">
        <i class="bi bi-send-fill"></i> Publicar Avaliação
    </button>

</form>